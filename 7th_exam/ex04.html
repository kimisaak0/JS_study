<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>지구본 게임</title>
    <style>
        .space {
            width: 600px;
        }

        .container {
            width: 600px;
            height: 500px;
            position: relative;
            border: 3px solid red;
        }

        #gigu {
            position: relative;
            width: 50px;
            left: 100px;
            top: 100px;
        }

        #text {
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }
    </style>

    <script src = "libs/jquery-3.5.1.min.js"> </script>
    <script>


        $(document).ready(function(){
            let $gigu = $("#gigu");
            let $score = $("#score");
            let $startBtn = $("#startBtn")
            let count = 0;
            var rnd1 = Math.floor(Math.random() * 500);
            var rnd2 = Math.floor(Math.random() * 400);
            var time = Math.floor(Math.random() * 1000);
            var time2 = time+50;
            var timeID = null;
            let gaming = false;

            //지구본이 랜덤으로 움직이게 하는 함수
            function animeGigu() {
                $gigu.animate({
                    left: rnd1, top : rnd2
                }, time); 
                rnd1 = Math.floor(Math.random() * 500);
                rnd2 = Math.floor(Math.random() * 400);
                time = Math.floor(Math.random() * 1000);
            }

            $startBtn.click(function(){
                if(gaming == false) {
                    gaming = true;
                    timeID = setInterval(animeGigu,time2);
    
                    setTimeout(function(){
                        clearInterval(timeID);
                        alert("your score : " + count);
                        count = 0;
                        time = 10000;
                        time2 = 10000;
                        $score.text(count);
                        gaming = false;
                    }, 5000);
                }
            });
            
            $gigu.click(function(){
                if(gaming == true) {
                    count++;
                    $score.text(count);
                }
            });


        });
    </script>
</head>
<body>
    <div class = "space">
        <div id = "text">
            현재 점수 : <span id="score">0</span>
        </div>
    </div>
    <div class="container">
        <img src="images/gigu.png" alt="지구" id="gigu">
    </div>
    <button id="startBtn">Start</button>
</body>
</html>